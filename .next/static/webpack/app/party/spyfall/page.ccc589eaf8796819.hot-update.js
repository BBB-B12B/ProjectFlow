"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/party/spyfall/page",{

/***/ "(app-pages-browser)/./src/app/party/spyfall/actions.ts":
/*!******************************************!*\
  !*** ./src/app/party/spyfall/actions.ts ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   castEndGameVote: () => (/* binding */ castEndGameVote),\n/* harmony export */   castVote: () => (/* binding */ castVote),\n/* harmony export */   createSpyfallGame: () => (/* binding */ createSpyfallGame),\n/* harmony export */   endSpyfallGame: () => (/* binding */ endSpyfallGame),\n/* harmony export */   requestEndGameVote: () => (/* binding */ requestEndGameVote),\n/* harmony export */   requestVote: () => (/* binding */ requestVote),\n/* harmony export */   spyGuessLocation: () => (/* binding */ spyGuessLocation),\n/* harmony export */   tallyVotes: () => (/* binding */ tallyVotes)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-action-client-wrapper */ \"(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js\");\n/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_action_entry_do_not_use__ {\"4006e5b1c476d9aaceb0c3163116de60e52011b5bd\":\"tallyVotes\",\"4014102f32762d790abd77fa4973827abdb6d23fb2\":\"createSpyfallGame\",\"4057cef7a5cfbc35089ccf1949e05521045bf1860c\":\"endSpyfallGame\",\"601d08c6008c92e7335d4095d6f27d5e0d68b7641c\":\"requestEndGameVote\",\"6083e19f313b0939a8f5135a60906de075c2adda36\":\"castEndGameVote\",\"609aa8ac3bf05db49c0de44816e1e8c869d84c4626\":\"requestVote\",\"70c6a24a278b74cfe333de98766182133c12b87d0e\":\"castVote\",\"70eb3bd8f18de651e7fcacf204940f168dd2731bec\":\"spyGuessLocation\"} */ \nvar createSpyfallGame = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"4014102f32762d790abd77fa4973827abdb6d23fb2\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"createSpyfallGame\");\nvar requestVote = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"609aa8ac3bf05db49c0de44816e1e8c869d84c4626\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"requestVote\");\nvar castVote = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"70c6a24a278b74cfe333de98766182133c12b87d0e\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"castVote\");\nvar tallyVotes = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"4006e5b1c476d9aaceb0c3163116de60e52011b5bd\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"tallyVotes\");\nvar spyGuessLocation = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"70eb3bd8f18de651e7fcacf204940f168dd2731bec\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"spyGuessLocation\");\nvar endSpyfallGame = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"4057cef7a5cfbc35089ccf1949e05521045bf1860c\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"endSpyfallGame\");\nvar requestEndGameVote = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"601d08c6008c92e7335d4095d6f27d5e0d68b7641c\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"requestEndGameVote\");\nvar castEndGameVote = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"6083e19f313b0939a8f5135a60906de075c2adda36\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"castEndGameVote\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvcGFydHkvc3B5ZmFsbC9hY3Rpb25zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0lBMEJzQkEsa0NBQUFBLDZGQUFBQSwrQ0FBQUEsOEVBQUFBLFVBQUFBLG9GQUFBQTtJQWdFQUMsNEJBQUFBLDZGQUFBQSwrQ0FBQUEsOEVBQUFBLFVBQUFBLG9GQUFBQTtJQWlDQUMseUJBQUFBLDZGQUFBQSwrQ0FBQUEsOEVBQUFBLFVBQUFBLG9GQUFBQTtJQVVBQywyQkFBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBcUVBQyxpQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBcUNBQywrQkFBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBbUJBQyxtQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBNkJBQyxnQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBIiwic291cmNlcyI6WyIvaG9tZS91c2VyL3N0dWRpby9zcmMvYXBwL3BhcnR5L3NweWZhbGwvYWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuaW1wb3J0IHsgZGIgfSBmcm9tIFwiQC9saWIvZmlyZWJhc2VcIjtcbmltcG9ydCB7IGNvbGxlY3Rpb24sIGdldERvY3MsIGRvYywgc2V0RG9jLCBUaW1lc3RhbXAsIHJ1blRyYW5zYWN0aW9uLCBhcnJheVVuaW9uLCB1cGRhdGVEb2MgfSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XG5cbmludGVyZmFjZSBQbGF5ZXIge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBMb2NhdGlvbiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lX2VuOiBzdHJpbmc7XG4gICAgbmFtZV90aDogc3RyaW5nO1xuICAgIHJvbGVzX2VuOiBzdHJpbmdbXTtcbiAgICByb2xlc190aDogc3RyaW5nW107XG59XG5cbmZ1bmN0aW9uIHNodWZmbGVBcnJheTxUPihhcnJheTogVFtdKTogVFtdIHtcbiAgICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgICAgICBjb25zdCBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7XG4gICAgICAgIFthcnJheVtpXSwgYXJyYXlbal1dID0gW2FycmF5W2pdLCBhcnJheVtpXV07XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNweWZhbGxHYW1lKHBsYXllcnM6IFBsYXllcltdKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHBsYXllcnMubGVuZ3RoIDwgMykgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IFwiTm90IGVub3VnaCBwbGF5ZXJzLiBSZXF1aXJlcyBhdCBsZWFzdCAzIHBsYXllcnMuXCIgfTtcblxuICAgICAgICBjb25zdCBsb2NhdGlvbnNDb2wgPSBjb2xsZWN0aW9uKGRiLCAnc3B5ZmFsbF9sb2NhdGlvbnMnKTtcbiAgICAgICAgY29uc3QgbG9jYXRpb25zU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGxvY2F0aW9uc0NvbCk7XG4gICAgICAgIGlmIChsb2NhdGlvbnNTbmFwc2hvdC5lbXB0eSkgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IFwiTm8gbG9jYXRpb25zIGZvdW5kIGluIHRoZSBkYXRhYmFzZS5cIiB9O1xuICAgICAgICBcbiAgICAgICAgY29uc3QgYWxsTG9jYXRpb25zID0gbG9jYXRpb25zU25hcHNob3QuZG9jcy5tYXAoZG9jID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSBhcyBMb2NhdGlvbikpO1xuICAgICAgICBjb25zdCBzZWxlY3RlZExvY2F0aW9uID0gYWxsTG9jYXRpb25zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFsbExvY2F0aW9ucy5sZW5ndGgpXTtcbiAgICAgICAgY29uc3Qgc2h1ZmZsZWRQbGF5ZXJzID0gc2h1ZmZsZUFycmF5KFsuLi5wbGF5ZXJzXSk7XG4gICAgICAgIGNvbnN0IHNweUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc2h1ZmZsZWRQbGF5ZXJzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IHNweSA9IHNodWZmbGVkUGxheWVyc1tzcHlJbmRleF07XG4gICAgICAgIFxuICAgICAgICBjb25zdCBhdmFpbGFibGVSb2xlcyA9IHNodWZmbGVBcnJheShbLi4uc2VsZWN0ZWRMb2NhdGlvbi5yb2xlc190aF0pO1xuICAgICAgICBjb25zdCBwbGF5ZXJBc3NpZ25tZW50cyA9IHNodWZmbGVkUGxheWVycy5tYXAoKHBsYXllciwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gc3B5SW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJJZDogcGxheWVyLmlkLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBwbGF5ZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcm9sZTogXCJTcHlcIixcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IFwiPz8/XCIsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9sZSA9IGF2YWlsYWJsZVJvbGVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllcklkOiBwbGF5ZXIuaWQsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHBsYXllci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICByb2xlOiByb2xlIHx8IFwiQ2l2aWxpYW5cIiwgXG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBzZWxlY3RlZExvY2F0aW9uLm5hbWVfdGgsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBnYW1lSWQgPSBgc3B5ZmFsbF8ke2NyeXB0by5yYW5kb21VVUlEKCl9YDtcbiAgICAgICAgY29uc3QgZ2FtZVJlZiA9IGRvYyhkYiwgJ3NweWZhbGxfZ2FtZXMnLCBnYW1lSWQpO1xuXG4gICAgICAgIGF3YWl0IHNldERvYyhnYW1lUmVmLCB7XG4gICAgICAgICAgICBjcmVhdGVkQXQ6IFRpbWVzdGFtcC5ub3coKSxcbiAgICAgICAgICAgIHBsYXllcnM6IHBsYXllckFzc2lnbm1lbnRzLFxuICAgICAgICAgICAgbG9jYXRpb246IHNlbGVjdGVkTG9jYXRpb24ubmFtZV90aCxcbiAgICAgICAgICAgIGFsbExvY2F0aW9uczogYWxsTG9jYXRpb25zLm1hcChsID0+IGwubmFtZV90aCksXG4gICAgICAgICAgICBzcHlJZDogc3B5LmlkLFxuICAgICAgICAgICAgc3RhdHVzOiAnaW4tcHJvZ3Jlc3MnLFxuICAgICAgICAgICAgdGltZXJFbmRzQXQ6IFRpbWVzdGFtcC5mcm9tTWlsbGlzKERhdGUubm93KCkgKyA1ICogNjAgKiAxMDAwKSxcbiAgICAgICAgICAgIHZvdGU6IHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0ZXJzOiBbXSxcbiAgICAgICAgICAgICAgICB2b3Rlczoge30sXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnbm9uZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW5kR2FtZVZvdGU6IHsgLy8gTmV3IGZpZWxkIGZvciBlbmQgZ2FtZSB2b3RlXG4gICAgICAgICAgICAgICAgcmVxdWVzdGVyczogW10sXG4gICAgICAgICAgICAgICAgdm90ZXM6IFtdLFxuICAgICAgICAgICAgICAgIHN0YXR1czogJ25vbmUnLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBnYW1lSWQgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgU3B5ZmFsbCBnYW1lOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIkZhaWxlZCB0byBjcmVhdGUgZ2FtZS4gUGxlYXNlIHRyeSBhZ2Fpbi5cIiB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcXVlc3RWb3RlKGdhbWVJZDogc3RyaW5nLCBwbGF5ZXJJZDogc3RyaW5nKSB7XG4gICAgaWYgKCFnYW1lSWQgfHwgIXBsYXllcklkKSByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJJbnZhbGlkIGdhbWUgb3IgcGxheWVyIElELlwiIH07XG5cbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBydW5UcmFuc2FjdGlvbihkYiwgYXN5bmMgKHRyYW5zYWN0aW9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBnYW1lUmVmID0gZG9jKGRiLCAnc3B5ZmFsbF9nYW1lcycsIGdhbWVJZCk7XG4gICAgICAgICAgICBjb25zdCBnYW1lRG9jID0gYXdhaXQgdHJhbnNhY3Rpb24uZ2V0KGdhbWVSZWYpO1xuICAgICAgICAgICAgaWYgKCFnYW1lRG9jLmV4aXN0cygpKSB0aHJvdyBuZXcgRXJyb3IoXCJHYW1lIG5vdCBmb3VuZC5cIik7XG5cbiAgICAgICAgICAgIGNvbnN0IGdhbWVEYXRhID0gZ2FtZURvYy5kYXRhKCk7XG4gICAgICAgICAgICBpZiAoZ2FtZURhdGEuc3RhdHVzICE9PSAnaW4tcHJvZ3Jlc3MnKSByZXR1cm47IC8vIENhbid0IHZvdGUgaWYgZ2FtZSBpcyBub3QgaW4gcHJvZ3Jlc3NcblxuICAgICAgICAgICAgY29uc3QgcGxheWVycyA9IGdhbWVEYXRhLnBsYXllcnM7XG4gICAgICAgICAgICBjb25zdCB2b3RlID0gZ2FtZURhdGEudm90ZSB8fCB7IHJlcXVlc3RlcnM6IFtdIH07XG4gICAgICAgICAgICBpZiAodm90ZS5yZXF1ZXN0ZXJzLmluY2x1ZGVzKHBsYXllcklkKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0cmFuc2FjdGlvbi51cGRhdGUoZ2FtZVJlZiwgeyBcInZvdGUucmVxdWVzdGVyc1wiOiBhcnJheVVuaW9uKHBsYXllcklkKSB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgbmV3UmVxdWVzdGVycyA9IFsuLi52b3RlLnJlcXVlc3RlcnMsIHBsYXllcklkXTtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVpcmVkVm90ZXMgPSBNYXRoLmNlaWwocGxheWVycy5sZW5ndGggKiAwLjcpO1xuXG4gICAgICAgICAgICBpZiAobmV3UmVxdWVzdGVycy5sZW5ndGggPj0gcmVxdWlyZWRWb3Rlcykge1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLnVwZGF0ZShnYW1lUmVmLCB7IFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICd2b3RpbmcnLFxuICAgICAgICAgICAgICAgICAgICBcInZvdGUuc3RhdHVzXCI6ICdhY3RpdmUnLFxuICAgICAgICAgICAgICAgICAgICBcInZvdGUudGltZXJFbmRzQXRcIjogVGltZXN0YW1wLmZyb21NaWxsaXMoRGF0ZS5ub3coKSArIDIwICogMTAwMClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgICB9IGNhdGNoIChlcnJvcikgeyBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVxdWVzdGluZyB2b3RlOlwiLCBlcnJvcik7IHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIkZhaWxlZCB0byByZXF1ZXN0IHZvdGUuXCIgfTsgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FzdFZvdGUoZ2FtZUlkOiBzdHJpbmcsIHZvdGVySWQ6IHN0cmluZywgdGFyZ2V0SWQ6IHN0cmluZykge1xuICAgIGlmICghZ2FtZUlkIHx8ICF2b3RlcklkIHx8ICF0YXJnZXRJZCkgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IFwiSW52YWxpZCBJRHMgcHJvdmlkZWQuXCIgfTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGdhbWVSZWYgPSBkb2MoZGIsICdzcHlmYWxsX2dhbWVzJywgZ2FtZUlkKTtcbiAgICAgICAgYXdhaXQgdXBkYXRlRG9jKGdhbWVSZWYsIHsgW2B2b3RlLnZvdGVzLiR7dm90ZXJJZH1gXTogdGFyZ2V0SWQgfSk7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgICB9IGNhdGNoIChlcnJvcikgeyBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2FzdGluZyB2b3RlOlwiLCBlcnJvcik7IHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIkZhaWxlZCB0byBjYXN0IHZvdGUuXCIgfTsgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdGFsbHlWb3RlcyhnYW1lSWQ6IHN0cmluZykge1xuICAgIGlmICghZ2FtZUlkKSByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJJbnZhbGlkIGdhbWUgSUQuXCIgfTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBydW5UcmFuc2FjdGlvbihkYiwgYXN5bmMgKHRyYW5zYWN0aW9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBnYW1lUmVmID0gZG9jKGRiLCAnc3B5ZmFsbF9nYW1lcycsIGdhbWVJZCk7XG4gICAgICAgICAgICBjb25zdCBnYW1lRG9jID0gYXdhaXQgdHJhbnNhY3Rpb24uZ2V0KGdhbWVSZWYpO1xuICAgICAgICAgICAgaWYgKCFnYW1lRG9jLmV4aXN0cygpKSB0aHJvdyBuZXcgRXJyb3IoXCJHYW1lIG5vdCBmb3VuZC5cIik7XG5cbiAgICAgICAgICAgIGNvbnN0IGdhbWVEYXRhID0gZ2FtZURvYy5kYXRhKCk7XG4gICAgICAgICAgICBpZiAoZ2FtZURhdGEuc3RhdHVzICE9PSAndm90aW5nJykgcmV0dXJuOyAvLyBPbmx5IHRhbGx5IHZvdGVzIGlmIGluIHZvdGluZyBzdGF0ZVxuXG4gICAgICAgICAgICBjb25zdCB2b3RlcyA9IGdhbWVEYXRhLnZvdGUudm90ZXMgfHwge307XG4gICAgICAgICAgICBjb25zdCB2b3RlQ291bnRzOiB7IFt0YXJnZXRJZDogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yIChjb25zdCB2b3RlcklkIGluIHZvdGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB2b3Rlc1t2b3RlcklkXTtcbiAgICAgICAgICAgICAgICB2b3RlQ291bnRzW3RhcmdldElkXSA9ICh2b3RlQ291bnRzW3RhcmdldElkXSB8fCAwKSArIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBtYXhWb3RlcyA9IDA7XG4gICAgICAgICAgICBsZXQgdm90ZWRQbGF5ZXJJZCA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRhcmdldElkIGluIHZvdGVDb3VudHMpIHtcbiAgICAgICAgICAgICAgICBpZiAodm90ZUNvdW50c1t0YXJnZXRJZF0gPiBtYXhWb3Rlcykge1xuICAgICAgICAgICAgICAgICAgICBtYXhWb3RlcyA9IHZvdGVDb3VudHNbdGFyZ2V0SWRdO1xuICAgICAgICAgICAgICAgICAgICB2b3RlZFBsYXllcklkID0gdGFyZ2V0SWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBzcHlJZCA9IGdhbWVEYXRhLnNweUlkO1xuICAgICAgICAgICAgY29uc3Qgd2lubmVyID0gdm90ZWRQbGF5ZXJJZCA9PT0gc3B5SWQgPyAncGxheWVycycgOiAnc3B5JztcbiAgICAgICAgICAgIGNvbnN0IHZvdGVkUGxheWVyID0gZ2FtZURhdGEucGxheWVycy5maW5kKChwOmFueSkgPT4gcC5wbGF5ZXJJZCA9PT0gdm90ZWRQbGF5ZXJJZCk7XG4gICAgICAgICAgICAvLyBjb25zdCBzcHlQbGF5ZXIgPSBnYW1lRGF0YS5wbGF5ZXJzLmZpbmQoKHA6YW55KSA9PiBwLnBsYXllcklkID09PSBzcHlJZCk7XG5cbiAgICAgICAgICAgIGlmICh3aW5uZXIgPT09ICdwbGF5ZXJzJykge1xuICAgICAgICAgICAgICAgIC8vIElmIHBsYXllcnMgY29ycmVjdGx5IGlkZW50aWZ5IHRoZSBzcHksIHRyYW5zaXRpb24gdG8gc3B5LWd1ZXNzaW5nIHBoYXNlXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24udXBkYXRlKGdhbWVSZWYsIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnc3B5LWd1ZXNzaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgXCJ2b3RlLnN0YXR1c1wiOiAnZmluaXNoZWQnLFxuICAgICAgICAgICAgICAgICAgICBzcHlHdWVzc2luZzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3B5SWQ6IHNweUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdm90ZWRCeVBsYXllcnM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbk9wdGlvbnM6IGdhbWVEYXRhLmFsbExvY2F0aW9ucywgLy8gR2l2ZSBhbGwgbG9jYXRpb25zIGZvciBzcHkgdG8gZ3Vlc3NcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB7IC8vIFByZS1maWxsIHNvbWUgcmVzdWx0IGRhdGEsIHdpbm5lciBpcyBzdGlsbCB1bmRlY2lkZWQgYXQgdGhpcyBwb2ludFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lubmVyOiAnc3B5JywgLy8gVGVtcG9yYXJpbHkgc2V0IGFzIHNweSB3aW5zIHVudGlsIHNweSBndWVzc2VzXG4gICAgICAgICAgICAgICAgICAgICAgICB2b3RlZFBsYXllck5hbWU6IHZvdGVkUGxheWVyPy5uYW1lIHx8ICdVbmtub3duJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNweU5hbWU6IGdhbWVEYXRhLnBsYXllcnMuZmluZCgocDphbnkpID0+IHAucGxheWVySWQgPT09IHNweUlkKT8ubmFtZSB8fCAnVW5rbm93bicsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogZ2FtZURhdGEubG9jYXRpb24sIC8vIENvcnJlY3QgbG9jYXRpb25cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwbGF5ZXJzIGluY29ycmVjdGx5IHZvdGUsIHRoZSBzcHkgd2lucyBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLnVwZGF0ZShnYW1lUmVmLCB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2ZpbmlzaGVkJyxcbiAgICAgICAgICAgICAgICAgICAgXCJ2b3RlLnN0YXR1c1wiOiAnZmluaXNoZWQnLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbm5lcjogJ3NweScsXG4gICAgICAgICAgICAgICAgICAgICAgICB2b3RlZFBsYXllck5hbWU6IHZvdGVkUGxheWVyPy5uYW1lIHx8ICdOb2JvZHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3B5TmFtZTogZ2FtZURhdGEucGxheWVycy5maW5kKChwOmFueSkgPT4gcC5wbGF5ZXJJZCA9PT0gc3B5SWQpPy5uYW1lIHx8ICdVbmtub3duJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBnYW1lRGF0YS5sb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7IGNvbnNvbGUuZXJyb3IoXCJFcnJvciB0YWxseWluZyB2b3RlczpcIiwgZXJyb3IpOyByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJGYWlsZWQgdG8gdGFsbHkgdm90ZXMuXCIgfTsgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3B5R3Vlc3NMb2NhdGlvbihnYW1lSWQ6IHN0cmluZywgc3B5SWQ6IHN0cmluZywgZ3Vlc3NlZExvY2F0aW9uOiBzdHJpbmcpIHtcbiAgICBpZiAoIWdhbWVJZCB8fCAhc3B5SWQgfHwgIWd1ZXNzZWRMb2NhdGlvbikgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IFwiSW52YWxpZCBpbnB1dCBmb3Igc3B5R3Vlc3NMb2NhdGlvbi5cIiB9O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcnVuVHJhbnNhY3Rpb24oZGIsIGFzeW5jICh0cmFuc2FjdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZ2FtZVJlZiA9IGRvYyhkYiwgJ3NweWZhbGxfZ2FtZXMnLCBnYW1lSWQpO1xuICAgICAgICAgICAgY29uc3QgZ2FtZURvYyA9IGF3YWl0IHRyYW5zYWN0aW9uLmdldChnYW1lUmVmKTtcbiAgICAgICAgICAgIGlmICghZ2FtZURvYy5leGlzdHMoKSkgdGhyb3cgbmV3IEVycm9yKFwiR2FtZSBub3QgZm91bmQuXCIpO1xuXG4gICAgICAgICAgICBjb25zdCBnYW1lRGF0YSA9IGdhbWVEb2MuZGF0YSgpO1xuICAgICAgICAgICAgaWYgKGdhbWVEYXRhLnN0YXR1cyAhPT0gJ3NweS1ndWVzc2luZycgfHwgZ2FtZURhdGEuc3B5R3Vlc3Npbmc/LnNweUlkICE9PSBzcHlJZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIk5vdCBpbiBzcHkgZ3Vlc3NpbmcgcGhhc2Ugb3Igbm90IHRoZSBkZXNpZ25hdGVkIHNweS5cIiB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBjb3JyZWN0TG9jYXRpb24gPSBnYW1lRGF0YS5sb2NhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IHNweUd1ZXNzZWRDb3JyZWN0bHkgPSBndWVzc2VkTG9jYXRpb24gPT09IGNvcnJlY3RMb2NhdGlvbjtcblxuICAgICAgICAgICAgdHJhbnNhY3Rpb24udXBkYXRlKGdhbWVSZWYsIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdmaW5pc2hlZCcsXG4gICAgICAgICAgICAgICAgXCJzcHlHdWVzc2luZy5zdGF0dXNcIjogJ2ZpbmlzaGVkJyxcbiAgICAgICAgICAgICAgICByZXN1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgd2lubmVyOiBzcHlHdWVzc2VkQ29ycmVjdGx5ID8gJ3NweScgOiAncGxheWVycycsXG4gICAgICAgICAgICAgICAgICAgIHZvdGVkUGxheWVyTmFtZTogZ2FtZURhdGEucmVzdWx0Py52b3RlZFBsYXllck5hbWUgfHwgJ1Vua25vd24nLFxuICAgICAgICAgICAgICAgICAgICBzcHlOYW1lOiBnYW1lRGF0YS5wbGF5ZXJzLmZpbmQoKHA6YW55KSA9PiBwLnBsYXllcklkID09PSBzcHlJZCk/Lm5hbWUgfHwgJ1Vua25vd24nLFxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogY29ycmVjdExvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICBzcHlHdWVzc2VkTG9jYXRpb246IGd1ZXNzZWRMb2NhdGlvbiwgLy8gU3RvcmUgdGhlIHNweSdzIGd1ZXNzXG4gICAgICAgICAgICAgICAgICAgIHNweUd1ZXNzZWRDb3JyZWN0bHk6IHNweUd1ZXNzZWRDb3JyZWN0bHksXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIHNweUd1ZXNzTG9jYXRpb246XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIHJlY29yZCBzcHkncyBndWVzcy5cIiB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuZFNweWZhbGxHYW1lKGdhbWVJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgTE9CQllfSUQgPSBcImdsb2JhbF9sb2JieVwiO1xuICAgIGNvbnN0IGdhbWVSZWYgPSBkb2MoZGIsICdzcHlmYWxsX2dhbWVzJywgZ2FtZUlkKTtcbiAgICBjb25zdCBsb2JieVJlZiA9IGRvYyhkYiwgXCJzcHlmYWxsX2xvYmJpZXNcIiwgTE9CQllfSUQpO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgLy8gU2V0IGdhbWUgc3RhdHVzIHRvIGZpbmlzaGVkXG4gICAgICAgIGF3YWl0IHVwZGF0ZURvYyhnYW1lUmVmLCB7IHN0YXR1czogJ2ZpbmlzaGVkJyB9KTtcblxuICAgICAgICAvLyBSZXNldCBsb2JieSBzdGF0dXMgYW5kIGNsZWFyIHBsYXllcnMvb2JzZXJ2ZXJzXG4gICAgICAgIGF3YWl0IHNldERvYyhsb2JieVJlZiwgeyBwbGF5ZXJzOiBbXSwgb2JzZXJ2ZXJzOiBbXSwgc3RhdHVzOiAnd2FpdGluZycgfSk7XG5cbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBlbmRpbmcgU3B5ZmFsbCBnYW1lOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIkZhaWxlZCB0byBlbmQgZ2FtZS4gUGxlYXNlIHRyeSBhZ2Fpbi5cIiB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcXVlc3RFbmRHYW1lVm90ZShnYW1lSWQ6IHN0cmluZywgcGxheWVySWQ6IHN0cmluZykge1xuICAgIGlmICghZ2FtZUlkIHx8ICFwbGF5ZXJJZCkgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IFwiSW52YWxpZCBnYW1lIG9yIHBsYXllciBJRC5cIiB9O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcnVuVHJhbnNhY3Rpb24oZGIsIGFzeW5jICh0cmFuc2FjdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZ2FtZVJlZiA9IGRvYyhkYiwgJ3NweWZhbGxfZ2FtZXMnLCBnYW1lSWQpO1xuICAgICAgICAgICAgY29uc3QgZ2FtZURvYyA9IGF3YWl0IHRyYW5zYWN0aW9uLmdldChnYW1lUmVmKTtcbiAgICAgICAgICAgIGlmICghZ2FtZURvYy5leGlzdHMoKSkgdGhyb3cgbmV3IEVycm9yKFwiR2FtZSBub3QgZm91bmQuXCIpO1xuXG4gICAgICAgICAgICBjb25zdCBnYW1lRGF0YSA9IGdhbWVEb2MuZGF0YSgpO1xuICAgICAgICAgICAgaWYgKGdhbWVEYXRhLnN0YXR1cyAhPT0gJ2luLXByb2dyZXNzJykgcmV0dXJuOyAvLyBDYW4ndCByZXF1ZXN0IHZvdGUgaWYgZ2FtZSBpcyBub3QgaW4gcHJvZ3Jlc3NcblxuICAgICAgICAgICAgY29uc3QgZW5kR2FtZVZvdGUgPSBnYW1lRGF0YS5lbmRHYW1lVm90ZSB8fCB7IHJlcXVlc3RlcnM6IFtdLCB2b3RlczogW10sIHN0YXR1czogJ25vbmUnIH07XG4gICAgICAgICAgICBpZiAoZW5kR2FtZVZvdGUucmVxdWVzdGVycy5pbmNsdWRlcyhwbGF5ZXJJZCkpIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIllvdSBoYXZlIGFscmVhZHkgcmVxdWVzdGVkIHRvIGVuZCB0aGUgZ2FtZS5cIiB9O1xuXG4gICAgICAgICAgICB0cmFuc2FjdGlvbi51cGRhdGUoZ2FtZVJlZiwgeyBcbiAgICAgICAgICAgICAgICBcImVuZEdhbWVWb3RlLnJlcXVlc3RlcnNcIjogYXJyYXlVbmlvbihwbGF5ZXJJZCksXG4gICAgICAgICAgICAgICAgXCJlbmRHYW1lVm90ZS5zdGF0dXNcIjogJ2FjdGl2ZScsXG4gICAgICAgICAgICAgICAgLy8gT3B0aW9uYWxseSBhZGQgYSB0aW1lciBmb3IgdGhlIGVuZCBnYW1lIHZvdGVcbiAgICAgICAgICAgICAgICAvLyBcImVuZEdhbWVWb3RlLnRpbWVyRW5kc0F0XCI6IFRpbWVzdGFtcC5mcm9tTWlsbGlzKERhdGUubm93KCkgKyAzMCAqIDEwMDApIFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHJlcXVlc3RpbmcgZW5kIGdhbWUgdm90ZTpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJGYWlsZWQgdG8gcmVxdWVzdCBlbmQgZ2FtZSB2b3RlLlwiIH07XG4gICAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FzdEVuZEdhbWVWb3RlKGdhbWVJZDogc3RyaW5nLCB2b3RlcklkOiBzdHJpbmcpIHtcbiAgICBpZiAoIWdhbWVJZCB8fCAhdm90ZXJJZCkgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IFwiSW52YWxpZCBnYW1lIG9yIHZvdGVyIElELlwiIH07XG5cbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBydW5UcmFuc2FjdGlvbihkYiwgYXN5bmMgKHRyYW5zYWN0aW9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBnYW1lUmVmID0gZG9jKGRiLCAnc3B5ZmFsbF9nYW1lcycsIGdhbWVJZCk7XG4gICAgICAgICAgICBjb25zdCBnYW1lRG9jID0gYXdhaXQgdHJhbnNhY3Rpb24uZ2V0KGdhbWVSZWYpO1xuICAgICAgICAgICAgaWYgKCFnYW1lRG9jLmV4aXN0cygpKSB0aHJvdyBuZXcgRXJyb3IoXCJHYW1lIG5vdCBmb3VuZC5cIik7XG5cbiAgICAgICAgICAgIGNvbnN0IGdhbWVEYXRhID0gZ2FtZURvYy5kYXRhKCk7XG4gICAgICAgICAgICBpZiAoZ2FtZURhdGEuc3RhdHVzICE9PSAnaW4tcHJvZ3Jlc3MnIHx8IGdhbWVEYXRhLmVuZEdhbWVWb3RlPy5zdGF0dXMgIT09ICdhY3RpdmUnKSByZXR1cm47IC8vIENhbiBvbmx5IHZvdGUgaWYgZ2FtZSBpcyBpbiBwcm9ncmVzcyBhbmQgZW5kIGdhbWUgdm90ZSBpcyBhY3RpdmVcblxuICAgICAgICAgICAgLy8gRmlsdGVyIG91dCB0aGUgc3B5IGZyb20gdGhlIGNvdW50IG9mIHBsYXllcnMgd2hvIGNhbiB2b3RlIGZvciBlbmRpbmcgdGhlIGdhbWUuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGJlY2F1c2UgdGhlIHNweSdzIGdvYWwgaXMgZGlmZmVyZW50LlxuICAgICAgICAgICAgY29uc3QgcGxheWVyc0VsaWdpYmxlRm9yRW5kVm90ZSA9IGdhbWVEYXRhLnBsYXllcnMuZmlsdGVyKChwOmFueSkgPT4gcC5wbGF5ZXJJZCAhPT0gZ2FtZURhdGEuc3B5SWQpOyBcbiAgICAgICAgICAgIGNvbnN0IGVuZEdhbWVWb3RlID0gZ2FtZURhdGEuZW5kR2FtZVZvdGUgfHwgeyByZXF1ZXN0ZXJzOiBbXSwgdm90ZXM6IFtdIH07XG5cbiAgICAgICAgICAgIGlmIChlbmRHYW1lVm90ZS52b3Rlcy5pbmNsdWRlcyh2b3RlcklkKSkgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IFwiWW91IGhhdmUgYWxyZWFkeSB2b3RlZCB0byBlbmQgdGhlIGdhbWUuXCIgfTtcblxuICAgICAgICAgICAgdHJhbnNhY3Rpb24udXBkYXRlKGdhbWVSZWYsIHsgXCJlbmRHYW1lVm90ZS52b3Rlc1wiOiBhcnJheVVuaW9uKHZvdGVySWQpIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBuZXdWb3RlcyA9IFsuLi5lbmRHYW1lVm90ZS52b3Rlcywgdm90ZXJJZF07XG4gICAgICAgICAgICBjb25zdCByZXF1aXJlZFZvdGVzID0gTWF0aC5jZWlsKHBsYXllcnNFbGlnaWJsZUZvckVuZFZvdGUubGVuZ3RoICogMC43KTsgLy8gNzAlIG9mIGVsaWdpYmxlIHBsYXllcnNcblxuICAgICAgICAgICAgaWYgKG5ld1ZvdGVzLmxlbmd0aCA+PSByZXF1aXJlZFZvdGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCI3MCUgb2YgcGxheWVycyB2b3RlZCB0byBlbmQgZ2FtZS4gRW5kaW5nIGdhbWUuLi5cIik7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiA3MCUgaXMgcmVhY2hlZCwgc2ltcGx5IHVwZGF0ZSB0aGUgZ2FtZSBzdGF0dXMgdG8gJ2ZpbmlzaGVkJ1xuICAgICAgICAgICAgICAgIC8vIFRoZSBjbGllbnQtc2lkZSBsaXN0ZW5lciB3aWxsIGRldGVjdCB0aGlzIGFuZCB0cmlnZ2VyIGVuZFNweWZhbGxHYW1lIHZpYSBoYW5kbGVHYW1lRW5kZWQuXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24udXBkYXRlKGdhbWVSZWYsIHsgc3RhdHVzOiAnZmluaXNoZWQnLCBcImVuZEdhbWVWb3RlLnN0YXR1c1wiOiAnZmluaXNoZWQnIH0pO1xuICAgICAgICAgICAgICAgIC8vIERPIE5PVCBjYWxsIGF3YWl0IGVuZFNweWZhbGxHYW1lKGdhbWVJZCkgaGVyZSBpbnNpZGUgdGhlIHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjYXN0aW5nIGVuZCBnYW1lIHZvdGU6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIGNhc3QgZW5kIGdhbWUgdm90ZS5cIiB9O1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVTcHlmYWxsR2FtZSIsInJlcXVlc3RWb3RlIiwiY2FzdFZvdGUiLCJ0YWxseVZvdGVzIiwic3B5R3Vlc3NMb2NhdGlvbiIsImVuZFNweWZhbGxHYW1lIiwicmVxdWVzdEVuZEdhbWVWb3RlIiwiY2FzdEVuZEdhbWVWb3RlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/party/spyfall/actions.ts\n"));

/***/ })

});